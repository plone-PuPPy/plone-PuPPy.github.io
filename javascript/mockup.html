

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4. Mockup - A Patternslib based collection of components &mdash; Mastering Plone 1.2.5a documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="../about.html"/>
    <link rel="top" title="Mastering Plone 1.2.5a documentation" href="../index.html"/>
        <link rel="up" title="JavaScript for Plone Developers" href="index.html"/>
        <link rel="next" title="5. Writing documentation for Mockup" href="mockup-writing-documentation.html"/>
        <link rel="prev" title="3. RequireJS and JavaScript modules" href="requirejs-modules.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Mastering Plone
          

          
          </a>

          
            
            
              <div class="version">
                1.2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About Mastering Plone</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation &amp; Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plone_training_config/instructions.html">3. Installing Plone for the Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../anatomy.html">4. The Anatomy of Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../case.html">5. The Case Study</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">6. The Features of Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plone5.html">7. What&#8217;s New in Plone 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuring_customizing.html">8. Configuring and Customizing Plone &#8220;Through The Web&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending.html">9. Extending Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../add-ons.html">10. Extend Plone With Add-On Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theming/index.html">11. Mastering Plone 5: Theming</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">JavaScript for Plone Developers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="training_installation.html">1. Installing Plone and example packages for the Training</a></li>
<li class="toctree-l2"><a class="reference internal" href="development-process.html">2. The JavaScript development process in Plone</a></li>
<li class="toctree-l2"><a class="reference internal" href="requirejs-modules.html">3. RequireJS and JavaScript modules</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">4. Mockup - A Patternslib based collection of components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-mockup-project-structure">The Mockup project structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a-minimal-pattern">A minimal pattern</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mockup-writing-documentation.html">5. Writing documentation for Mockup</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript-3-ttw.html">6. Through-The-Web development</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript-scratchpad.html">7. Scratchpad</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dexterity.html">12. Dexterity I: &#8220;Through The Web&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../buildout_1.html">13. Buildout I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eggs1.html">14. Write Your Own Add-Ons to Customize Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../export_code.html">15. Return to Dexterity: Moving contenttypes into Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views_1.html">16. Views I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zpt.html">17. Page Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zpt_2.html">18. Customizing Existing Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views_2.html">19. Views II: A Default View for &#8220;Talk&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views_3.html">20. Views III: A Talk List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing.html">21. Testing in Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../behaviors_1.html">22. Behaviors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewlets_1.html">23. Writing Viewlets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">24. Programming Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide.html">25. IDEs and Editors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dexterity_2.html">26. Dexterity Types II: Growing Up</a></li>
<li class="toctree-l1"><a class="reference internal" href="../custom_search.html">27. Custom Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../events.html">28. Turning Talks into Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_generated_content.html">29. User Generated Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">30. Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thirdparty_behaviors.html">31. Using Third-Party Behaviors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dexterity_3.html">32. Dexterity Types III: Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relations.html">33. Relations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../registry.html">34. Storing Settings in the Registry and create control-panels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eggs2.html">35. Creating Reusable Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../behaviors_2.html">36. More Complex Behaviors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewlets_2.html">37. A Viewlet for the Votable Behavior</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reusable.html">38. Making Our Package Reusable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../embed.html">39. Using starzel.votable_behavior in ploneconf.site</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment_code.html">40. Releasing Your Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment_sites.html">41. Buildout II: Getting Ready for Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frontpage.html">42. Creating a Dynamic Front Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../future_of_plone.html">43. The Future of Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optional.html">44. Optional</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CHANGES.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Mastering Plone</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">JavaScript for Plone Developers</a> &raquo;</li>
      
    <li>4. Mockup - A Patternslib based collection of components</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mockup-a-patternslib-based-collection-of-components">
<h1>4. Mockup - A Patternslib based collection of components<a class="headerlink" href="#mockup-a-patternslib-based-collection-of-components" title="Permalink to this headline">¶</a></h1>
<p>Plone 5 ships with a revamped UI.
An important part of the new UI is a collection of new input widgets, that we are used to work with in the so called Web 2.0 era.</p>
<p>For Plone, it was high time to update and modernize its input widgets.
Not because the new ones look much better, but because they offer a much more comfortable way of entering data.
To update Plone&#8217;s widgets was the goal of <code class="docutils literal"><span class="pre">plone.app.widgets</span></code>, started by Nathan van Gheem and pushed wide forward by Rok Garbas.
Rok forked Patternslib and created the Mockup project.
Patternslib used a complex configuration syntax parser instead of a simple JSON based approach and the test coverage was not high enough.
Besides it was fun to create something new, so Mockup was born.
There were concerns about having two projects with the same goal, so JC Brand took the initiative and brought the two projects back together.
Where Mockup had a dependency on <code class="docutils literal"><span class="pre">mockup-core</span></code> with a base pattern to extend from, a configuration parser, pattern registry and Grunt infrastructure, this dependency was removed and replaced by a dependency on <code class="docutils literal"><span class="pre">patternslib</span></code>.</p>
<p>Those projects led the foundation to the new way of developing JavaScript in Plone.</p>
<div class="section" id="the-mockup-project-structure">
<h2>The Mockup project structure<a class="headerlink" href="#the-mockup-project-structure" title="Permalink to this headline">¶</a></h2>
<p>This is how Mockup is structured on the filesystem:</p>
<div class="highlight-python"><div class="highlight"><pre>mockup
├── bower.json               - Bower managed dependencies
├── Makefile                 - Makefile targets to bootstrap, build bundles
├── mockup                   - All the source in here (to be able to add to Python egg)
│   ├── bower_components     - External dependencies managed by Bower
│   ├── configure.zcml       - Registers Mockup resource directory
│   ├── Gruntfile.js         - Grunt build configuration. Extends js/grunt.js
│   ├── index.html           - Entry file for generated documentation
│   ├── js
│   │   ├── bundles          - Mockup bundle files
│   │   │   ├── docs.js
│   │   │   ├── plone.js
│   │   │   └── widgets.js
│   │   │   └── ...
│   │   ├── config.js        - RequireJS configuration
│   │   ├── docs             - ReactJS based documentation framework
│   │   │   ├── app.js
│   │   │   ├── ...
│   │   ├── grunt.js         - Grunt base configuration
│   │   ├── i18n.js
│   │   ├── i18n-wrapper.js
│   │   ├── router.js
│   │   ├── ui
│   │   │   ├── templates
│   │   │   │   └── popover.xml
│   │   │   └── views
│   │   │       ├── base.js
│   │   │       ├── buttongroup.js
│   │   │       ├── ...
│   │   └── utils.js         - Utils to be reused
│   ├── less                 - Less files for bundles. Mostly import less files from
│   │   ├── base.less          a bundle&#39;s pattern dependencies.
│   │   ├── docs.less
│   │   ├── plone.less
│   │   └── widgets.less
│   │   └── ...
│   ├── lib                                 - Non-Bower libraries
│   │   ├── jquery.event.drag.js
│   │   └── jquery.event.drop.js
│   ├── node_modules -&gt; ../node_modules     - Grunt needs this link here...
│   ├── patterns                            - Patterns in here
│   │   ├── autotoc                         - The autodoc pattern
│   │   │   ├── pattern.autotoc.less        - Pattern specific Less file
│   │   │   └── pattern.js                  - Pattern itself
│   │   ├── livesearch
│   │   │   ├── pattern.js
│   │   │   └── pattern.livesearch.less
│   │   ├── select2
│   │   │   ├── pattern.js
│   │   │   └── pattern.select2.less
│   └── tests                               - All tests in here
│       ├── config.js                       - RequireJS configuration for tests
│       ├── fakeserver.js                   - Fake test server
│       ├── files
│       │   ├── lessconfig.js
│       │   ├── mapper.html
│       │   └── r.js
│       ├── i18n-test.js
│       ├── images                          - Test resources
│       │   ├── extralarge.jpg
│       │   ├── large.jpg
│       │   ├── ...
│       ├── json                            - Test data
│       │   ├── contextInfo.json
│       │   ├── fileTree.json
│       │   ├── ...
│       ├── pattern-autotoc-test.js         - Tests for the autodoc pattern
│       ├── pattern-livesearch-test.js
│       ├── pattern-select2-test.js
│       ├── ...
├── node_modules             - Node modules directory
├── package.json             - Node package metadata
├── provision.sh             - Vagrant provision file
├── setup.py                 - Mockup egg setup
└── Vagrantfile              - Vagrant configuration
</pre></div>
</div>
</div>
<div class="section" id="a-minimal-pattern">
<h2>A minimal pattern<a class="headerlink" href="#a-minimal-pattern" title="Permalink to this headline">¶</a></h2>
<p>The following is a minimal pattern example, except that it uses jQuery and changes some HTML elements&#8217; text.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">define</span><span class="p">([</span>
  <span class="s1">&#39;pat-base&#39;</span><span class="p">,</span>
  <span class="s1">&#39;jquery&#39;</span>
<span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">Base</span><span class="p">,</span> <span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  <span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">Minimalpattern</span> <span class="o">=</span> <span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;minimalpattern&#39;</span><span class="p">,</span>
    <span class="nx">trigger</span><span class="o">:</span> <span class="s1">&#39;.pat-minimalpattern&#39;</span><span class="p">,</span>  <span class="c1">// has to be exact like this: &#39;pat-&#39; + patternname.</span>
    <span class="nx">defaults</span><span class="o">:</span> <span class="p">{</span>                      <span class="c1">// default options</span>
      <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;Super Duper!&#39;</span>
    <span class="p">},</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>              <span class="c1">// pattern initialization. called for each matching pattern.</span>
      <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
      <span class="nx">self</span><span class="p">.</span><span class="nx">$el</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">);</span>  <span class="c1">// self.$el is the matching pattern element.</span>
    <span class="p">}</span>
  <span class="p">});</span>
  <span class="k">return</span> <span class="nx">Minimalpattern</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<p>For a complete example including tests, bundle config und Plone integration see: <a class="reference external" href="https://github.com/collective/mockup-minimalpattern">https://github.com/collective/mockup-minimalpattern</a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mockup-writing-documentation.html" class="btn btn-neutral float-right" title="5. Writing documentation for Mockup" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="requirejs-modules.html" class="btn btn-neutral" title="3. RequireJS and JavaScript modules" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The text and illustrations in this website are licensed by the Plone Foundation under a Creative Commons Attribution 4.0 International license..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.2.5a',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .admonition-title").show();
        $(".toggle .admonition-title").click(function() {
            $(this).parent().children().not(".admonition-title").toggle(400);
            $(this).parent().children(".admonition-title").toggleClass("open");
        })
    });
</script>


</body>
</html>