

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4. Create a Plone theme python package &mdash; Mastering Plone 1.2.5a documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="../about.html"/>
    <link rel="top" title="Mastering Plone 1.2.5a documentation" href="../index.html"/>
        <link rel="up" title="11. Mastering Plone 5: Theming" href="index.html"/>
        <link rel="next" title="5. Creating and customizing Plone templates" href="creating-customizing-templates.html"/>
        <link rel="prev" title="3. Make it reproducible basic: static theme" href="static-theme.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Mastering Plone
          

          
          </a>

          
            
            
              <div class="version">
                1.2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About Mastering Plone</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation &amp; Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plone_training_config/instructions.html">3. Installing Plone for the Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../anatomy.html">4. The Anatomy of Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../case.html">5. The Case Study</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">6. The Features of Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plone5.html">7. What&#8217;s New in Plone 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuring_customizing.html">8. Configuring and Customizing Plone &#8220;Through The Web&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending.html">9. Extending Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../add-ons.html">10. Extend Plone With Add-On Packages</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">11. Mastering Plone 5: Theming</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="basic.html">1. Basic: customizing logo and CSS of default theme</a></li>
<li class="toctree-l2"><a class="reference internal" href="ttw-advanced.html">2. TTW advanced: intro to Diazo Theming, build custom rules through the web</a></li>
<li class="toctree-l2"><a class="reference internal" href="static-theme.html">3. Make it reproducible basic: static theme</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">4. Create a Plone theme python package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparing-your-setup">Preparing your setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-a-product-to-handle-your-diazo-theme">Create a product to handle your Diazo theme</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#install-mr-bob-and-bobtemplates-plone">Install mr.bob and bobtemplates.plone</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bootstrap-buildout-your-development-environment">Bootstrap &amp; buildout your development environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#start-your-plone-instance-and-play-with-your-theme-product">Start your Plone instance and play with your theme product</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inspect-your-package-source">Inspect your package source</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#build-your-diazo-based-theme">Build your Diazo-based theme</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#use-your-own-static-mockup">Use your own static mockup</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="creating-customizing-templates.html">5. Creating and customizing Plone templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating-initial-content-for-the-theme.html">6. Creating initial content for the theme</a></li>
<li class="toctree-l2"><a class="reference internal" href="tinymce-templates.html">7. Using TinyMCE templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="adv-resource-registry.html">8. Advanced resources registry usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="adv-diazo.html">9. Advanced Diazo</a></li>
<li class="toctree-l2"><a class="reference internal" href="collective-jbot.html">10. Customize template on the fly: collective.jbot</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom-components.html">11. Creating custom components</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../javascript/index.html">JavaScript for Plone Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dexterity.html">12. Dexterity I: &#8220;Through The Web&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../buildout_1.html">13. Buildout I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eggs1.html">14. Write Your Own Add-Ons to Customize Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../export_code.html">15. Return to Dexterity: Moving contenttypes into Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views_1.html">16. Views I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zpt.html">17. Page Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zpt_2.html">18. Customizing Existing Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views_2.html">19. Views II: A Default View for &#8220;Talk&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views_3.html">20. Views III: A Talk List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing.html">21. Testing in Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../behaviors_1.html">22. Behaviors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewlets_1.html">23. Writing Viewlets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">24. Programming Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide.html">25. IDEs and Editors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dexterity_2.html">26. Dexterity Types II: Growing Up</a></li>
<li class="toctree-l1"><a class="reference internal" href="../custom_search.html">27. Custom Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../events.html">28. Turning Talks into Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_generated_content.html">29. User Generated Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">30. Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thirdparty_behaviors.html">31. Using Third-Party Behaviors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dexterity_3.html">32. Dexterity Types III: Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relations.html">33. Relations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../registry.html">34. Storing Settings in the Registry and create control-panels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eggs2.html">35. Creating Reusable Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../behaviors_2.html">36. More Complex Behaviors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewlets_2.html">37. A Viewlet for the Votable Behavior</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reusable.html">38. Making Our Package Reusable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../embed.html">39. Using starzel.votable_behavior in ploneconf.site</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment_code.html">40. Releasing Your Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment_sites.html">41. Buildout II: Getting Ready for Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frontpage.html">42. Creating a Dynamic Front Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../future_of_plone.html">43. The Future of Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optional.html">44. Optional</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CHANGES.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Mastering Plone</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">11. Mastering Plone 5: Theming</a> &raquo;</li>
      
    <li>4. Create a Plone theme python package</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="create-a-plone-theme-python-package">
<h1>4. Create a Plone theme python package<a class="headerlink" href="#create-a-plone-theme-python-package" title="Permalink to this headline">¶</a></h1>
<p>Creating a theme product with the Diazo inline editor is an easy way to start
and to test, but it is not a solid long term solution.</p>
<p>Even if <code class="docutils literal"><span class="pre">plone.app.theming</span></code> allows importing and exporting of a Diazo theme
as a ZIP archive, it might be preferable to manage your theme as an actual
Plone product.</p>
<p>One of the most obvious reasons is that it will allow you to override Plone
elements that are not accessible via pure Diazo features (such as overloading
content view templates, viewlets, configuration settings, etc.).</p>
<div class="section" id="preparing-your-setup">
<h2>Preparing your setup<a class="headerlink" href="#preparing-your-setup" title="Permalink to this headline">¶</a></h2>
<p>First we want create a Python virtualenv:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>virtualenv mrbobvenv
</pre></div>
</div>
<p>Then we enable the virtualenv:</p>
<div class="highlight-bash"><div class="highlight"><pre>vagrant@precise32:~$ source mrbobvenv/bin/activate
(mrbobvenv)vagrant@precise32:~$
</pre></div>
</div>
</div>
<div class="section" id="create-a-product-to-handle-your-diazo-theme">
<h2>Create a product to handle your Diazo theme<a class="headerlink" href="#create-a-product-to-handle-your-diazo-theme" title="Permalink to this headline">¶</a></h2>
<p>To create a Plone 5 theme skeleton, you will use mr.bob&#8217;s templates for Plone.</p>
<div class="section" id="install-mr-bob-and-bobtemplates-plone">
<h3>Install mr.bob and bobtemplates.plone<a class="headerlink" href="#install-mr-bob-and-bobtemplates-plone" title="Permalink to this headline">¶</a></h3>
<p>To install <code class="docutils literal"><span class="pre">mr.bob</span></code>, you can use <code class="docutils literal"><span class="pre">pip</span></code>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>pip install mr.bob
</pre></div>
</div>
<p>and to install the required bobtemplates for Plone, do:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>pip install bobtemplates.plone
</pre></div>
</div>
<p>Create a Plone 5 theme product skeleton with mrbob:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>mrbob -O plonetheme.tango bobtemplates:plone_addon
</pre></div>
</div>
<p>It will ask you some question:</p>
<div class="highlight-python"><div class="highlight"><pre>--&gt; What kind of package would you like to create? Choose between &#39;Basic&#39;, &#39;Dexterity&#39;, and &#39;Theme&#39;. [Basic]: Theme
</pre></div>
</div>
<p>Here, choose &#8220;Theme&#8221; and fill out the rest of the questions however you like:</p>
<div class="highlight-python"><div class="highlight"><pre>--&gt; Author&#39;s name [MrTango]:

--&gt; Author&#39;s email [md@derico.de]:

--&gt; Author&#39;s github username: MrTango

--&gt; Package description [An add-on for Plone]: Plone theme tango

--&gt; Plone version [4.3.6]: 5.0

Generated file structure at /home/maik/develop/plone/plonetheme.tango
</pre></div>
</div>
<p>Now you have a new Python package in your current folder:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">(</span>mrbobvenv<span class="o">)</span>maik@planetmobile:~/develop/plone/plonetheme.tango
<span class="nv">$ </span>ls
bootstrap-buildout.py   buildout.cfg  CONTRIBUTORS.rst  MANIFEST.in  setup.py  travis.cfg
bootstrap-buildout.pyc  CHANGES.rst   docs              README.rst   src
</pre></div>
</div>
<p>Deactivate mrbob virtualenv:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">(</span>mrbobvenv<span class="o">)</span>maik@planetmobile:~/develop/plone/plonetheme.tango<span class="nv">$ </span>deactivate
</pre></div>
</div>
</div>
<div class="section" id="bootstrap-buildout-your-development-environment">
<h3>Bootstrap &amp; buildout your development environment<a class="headerlink" href="#bootstrap-buildout-your-development-environment" title="Permalink to this headline">¶</a></h3>
<p>You can run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>python bootstrap-buildout.py
Creating directory <span class="s1">&#39;/home/maik/develop/plone/plonetheme.tango/bin&#39;</span>.
Creating directory <span class="s1">&#39;/home/maik/develop/plone/plonetheme.tango/parts&#39;</span>.
Creating directory <span class="s1">&#39;/home/maik/develop/plone/plonetheme.tango/develop-eggs&#39;</span>.
Generated script <span class="s1">&#39;/home/maik/develop/plone/plonetheme.tango/bin/buildout&#39;</span>.
</pre></div>
</div>
<p>Then you can run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>./bin/buildout
</pre></div>
</div>
<p>This will create the whole development environment for your package:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>ls bin/
buildout                          code-analysis-hasattr
code-analysis                     code-analysis-imports
code-analysis-clean-lines         code-analysis-jscs
code-analysis-csslint             code-analysis-jshint
code-analysis-debug-statements    code-analysis-pep3101
code-analysis-deprecated-aliases  code-analysis-prefer-single-quotes
code-analysis-find-untranslated   code-analysis-utf8-header
code-analysis-flake8              code-analysis-zptlint
develop                           pildriver.py
flake8                            pilfile.py
fullrelease                       pilfont.py
instance                          pilprint.py
lasttagdiff                       postrelease
lasttaglog                        prerelease
longtest                          release
pilconvert.py                     <span class="nb">test</span>
</pre></div>
</div>
</div>
<div class="section" id="start-your-plone-instance-and-play-with-your-theme-product">
<h3>Start your Plone instance and play with your theme product<a class="headerlink" href="#start-your-plone-instance-and-play-with-your-theme-product" title="Permalink to this headline">¶</a></h3>
<p>To start the Plone instance, run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>./bin/instance <span class="nb">fg</span>
</pre></div>
</div>
<p>The Plone instance will then run on <a class="reference external" href="http://localhost:8080">http://localhost:8080</a>.
Add a Plone site <code class="docutils literal"><span class="pre">Plone</span></code>.
Then activate/install your theme product on <a class="reference external" href="http://localhost:8080/Plone/prefs_install_products_form">http://localhost:8080/Plone/prefs_install_products_form</a>.
The theme will be automatically enabled.
If something is wrong with the theme,
you can always go to <a class="reference external" href="http://localhost:8080/Plone/&#64;&#64;theming-controlpanel">http://localhost:8080/Plone/&#64;&#64;theming-controlpanel</a> and disable it.
This control panel will never be themed, so it works even if the theme might be broken.</p>
</div>
<div class="section" id="inspect-your-package-source">
<h3>Inspect your package source<a class="headerlink" href="#inspect-your-package-source" title="Permalink to this headline">¶</a></h3>
<p>Your package source code is in the <code class="docutils literal"><span class="pre">src</span></code> folder:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tree src/plonetheme/tango/
src/plonetheme/tango/
├── browser
│   ├── configure.zcml
│   ├── __init__.py
│   ├── __init__.pyc
│   ├── overrides
│   └── static
├── configure.zcml
├── __init__.py
├── interfaces.py
├── locales
│   ├── plonetheme.tango.pot
│   └── update.sh
├── profiles
│   ├── default
│   │   ├── browserlayer.xml
│   │   ├── metadata.xml
│   │   ├── plonethemetango_default.txt
│   │   └── theme.xml
│   └── uninstall
│       ├── browserlayer.xml
│       ├── plonethemetango_uninstall.txt
│       └── theme.xml
├── setuphandlers.py
├── testing.py
├── tests
│   ├── __init__.py
│   ├── __init__.pyc
│   ├── robot
│   │   └── test_example.robot
│   ├── test_robot.py
│   └── test_setup.py
└── theme
    ├── index.html
    ├── manifest.cfg
    ├── rules.xml
    └── template-overrides

<span class="m">11</span> directories, <span class="m">25</span> files
</pre></div>
</div>
<p>As you see, the package already contains a Diazo theme:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tree src/plonetheme/tango/theme/
src/plonetheme/tango/theme/
├── index.html
├── manifest.cfg
├── rules.xml
└── template-overrides
</pre></div>
</div>
<p>Here you can build your Diazo theme.</p>
</div>
</div>
<div class="section" id="build-your-diazo-based-theme">
<h2>Build your Diazo-based theme<a class="headerlink" href="#build-your-diazo-based-theme" title="Permalink to this headline">¶</a></h2>
<p>You can start with the example files in the theme folder,
or with your own static HTML mockup,
or you can use the Plone 5 default <code class="docutils literal"><span class="pre">Barceloneta</span></code> theme as a starting point.</p>
<div class="section" id="use-your-own-static-mockup">
<h3>Use your own static mockup<a class="headerlink" href="#use-your-own-static-mockup" title="Permalink to this headline">¶</a></h3>
<p>If you got a static mockup from your designer or from a website like
<a class="reference external" href="http://startbootstrap.com">http://startbootstrap.com</a> (where the example theme came from), you can use this
without customization and just apply the Diazo rules to it.
Another way is to change the static mockup a little bit to use mostly the same
CSS ids and classes. This way it is easier to reuse CSS/LESS from Barceloneta
theme if you want.</p>
<div class="section" id="download-and-prepare-a-static-theme">
<h4>Download and prepare a static theme<a class="headerlink" href="#download-and-prepare-a-static-theme" title="Permalink to this headline">¶</a></h4>
<p>Let&#8217;s start with an untouched static theme, such as this bootstrap theme:
<a class="reference external" href="http://startbootstrap.com/template-overviews/business-casual/">http://startbootstrap.com/template-overviews/business-casual/</a>.
Just download it and extract it into the theme folder:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tree .
.
├── about.html
├── blog.html
├── contact.html
├── css
│   ├── bootstrap.css
│   ├── bootstrap.min.css
│   ├── bundle.less
│   ├── business-casual.css
│   └── main.less
├── fonts
│   ├── glyphicons-halflings-regular.eot
│   ├── glyphicons-halflings-regular.svg
│   ├── glyphicons-halflings-regular.ttf
│   ├── glyphicons-halflings-regular.woff
│   └── glyphicons-halflings-regular.woff2
├── img
│   ├── bg.jpg
│   ├── intro-pic.jpg
│   ├── slide-1.jpg
│   ├── slide-2.jpg
│   └── slide-3.jpg
├── index.html
├── js
│   ├── bootstrap.js
│   ├── bootstrap.min.js
│   ├── bundle.js
│   └── jquery.js
├── LICENSE
├── manifest.cfg
├── README.md
├── rules.xml
└── template-overrides
</pre></div>
</div>
<div class="section" id="preparing-the-template">
<h5>Preparing the template<a class="headerlink" href="#preparing-the-template" title="Permalink to this headline">¶</a></h5>
<p>To make the given template more useful, we customize it a little bit.
Right before the second box which contains:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;box&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-lg-12&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;hr&gt;</span>
            <span class="nt">&lt;h2</span> <span class="na">class=</span><span class="s">&quot;intro-text text-center&quot;</span><span class="nt">&gt;</span>Build a website
                <span class="nt">&lt;strong&gt;</span>worth visiting<span class="nt">&lt;/strong&gt;</span>
            <span class="nt">&lt;/h2&gt;</span>
</pre></div>
</div>
<p>Add this:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;column1-container&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content-container&quot;</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- main content (box2 and box3) comes here --&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;column2-container&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>And then move the main content (the box 2 and box 3 including the parent row
<code class="docutils literal"><span class="pre">div</span></code>) into the <code class="docutils literal"><span class="pre">content-container</span></code>.</p>
<p>It should look like this:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;column1-container&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content-container&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;box&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-lg-12&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;hr&gt;</span>
                  <span class="nt">&lt;h2</span> <span class="na">class=</span><span class="s">&quot;intro-text text-center&quot;</span><span class="nt">&gt;</span>Build a website
                      <span class="nt">&lt;strong&gt;</span>worth visiting<span class="nt">&lt;/strong&gt;</span>
                  <span class="nt">&lt;/h2&gt;</span>
                  <span class="nt">&lt;hr&gt;</span>
                  <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">&quot;img-responsive img-border img-left&quot;</span> <span class="na">src=</span><span class="s">&quot;img/intro-pic.jpg&quot;</span> <span class="na">alt=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;hr</span> <span class="na">class=</span><span class="s">&quot;visible-xs&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;p&gt;</span>The boxes used in this template are nested inbetween a normal Bootstrap row and the start of your column layout. The boxes will be full-width boxes, so if you want to make them smaller then you will need to customize.<span class="nt">&lt;/p&gt;</span>
                  <span class="nt">&lt;p&gt;</span>A huge thanks to <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://join.deathtothestockphoto.com/&quot;</span> <span class="na">target=</span><span class="s">&quot;_blank&quot;</span><span class="nt">&gt;</span>Death to the Stock Photo<span class="nt">&lt;/a&gt;</span> for allowing us to use the beautiful photos that make this template really come to life. When using this template, make sure your photos are decent. Also make sure that the file size on your photos is kept to a minumum to keep load times to a minimum.<span class="nt">&lt;/p&gt;</span>
                  <span class="nt">&lt;p&gt;</span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc placerat diam quis nisl vestibulum dignissim. In hac habitasse platea dictumst. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.<span class="nt">&lt;/p&gt;</span>
              <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>

      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;box&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-lg-12&quot;</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;hr&gt;</span>
                  <span class="nt">&lt;h2</span> <span class="na">class=</span><span class="s">&quot;intro-text text-center&quot;</span><span class="nt">&gt;</span>Beautiful boxes
                      <span class="nt">&lt;strong&gt;</span>to showcase your content<span class="nt">&lt;/strong&gt;</span>
                  <span class="nt">&lt;/h2&gt;</span>
                  <span class="nt">&lt;hr&gt;</span>
                  <span class="nt">&lt;p&gt;</span>Use as many boxes as you like, and put anything you want in them! They are great for just about anything, the sky&#39;s the limit!<span class="nt">&lt;/p&gt;</span>
                  <span class="nt">&lt;p&gt;</span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc placerat diam quis nisl vestibulum dignissim. In hac habitasse platea dictumst. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.<span class="nt">&lt;/p&gt;</span>
              <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;column2-container&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="using-diazo-rules-to-map-the-theme-with-plone-content">
<h4>Using Diazo rules to map the theme with Plone content<a class="headerlink" href="#using-diazo-rules-to-map-the-theme-with-plone-content" title="Permalink to this headline">¶</a></h4>
<p>Now that we have the static theme,
we need to apply the Diazo rules in <code class="docutils literal"><span class="pre">rules.xml</span></code> to map the Plone content
elements to the theme.</p>
<p>First let me explain what we mean when we talk about <em>content</em> and <em>theme</em>.
<em>Content</em> is usually the dynamic generated content on the Plone site, and the
<em>theme</em> is the static template site.</p>
<p>For example:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;replace</span> <span class="na">css:theme=</span><span class="s">&quot;#headline&quot;</span> <span class="na">css:content=</span><span class="s">&quot;#firstHeading&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>This means that the element <code class="docutils literal"><span class="pre">#headline</span></code> in the theme should be replaced by
the <code class="docutils literal"><span class="pre">#firstHeading</span></code> element from the generated Plone content.</p>
<p>For more details how to use Diazo rules, look at
<a class="reference external" href="http://docs.diazo.org/en/latest/">http://docs.diazo.org/en/latest/</a> and
<a class="reference external" href="http://docs.plone.org/external/plone.app.theming/docs/index.html">http://docs.plone.org/external/plone.app.theming/docs/index.html</a>.</p>
<p>As a starting point we use this rules set:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;rules</span> <span class="na">xmlns=</span><span class="s">&quot;http://namespaces.plone.org/diazo&quot;</span>
       <span class="na">xmlns:css=</span><span class="s">&quot;http://namespaces.plone.org/diazo/css&quot;</span>
       <span class="na">xmlns:xhtml=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span>
       <span class="na">xmlns:xsl=</span><span class="s">&quot;http://www.w3.org/1999/XSL/Transform&quot;</span>
       <span class="na">xmlns:xi=</span><span class="s">&quot;http://www.w3.org/2001/XInclude&quot;</span><span class="nt">&gt;</span>

  <span class="nt">&lt;theme</span> <span class="na">href=</span><span class="s">&quot;index.html&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;notheme</span> <span class="na">css:if-not-content=</span><span class="s">&quot;#visual-portal-wrapper&quot;</span> <span class="nt">/&gt;</span>

  <span class="nt">&lt;rules</span> <span class="na">css:if-content=</span><span class="s">&quot;#portal-top&quot;</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- Attributes --&gt;</span>
    <span class="nt">&lt;copy</span> <span class="na">attributes=</span><span class="s">&quot;*&quot;</span> <span class="na">css:theme=</span><span class="s">&quot;html&quot;</span> <span class="na">css:content=</span><span class="s">&quot;html&quot;</span> <span class="nt">/&gt;</span>
    <span class="c">&lt;!-- Base tag --&gt;</span>
    <span class="nt">&lt;before</span> <span class="na">css:theme=</span><span class="s">&quot;head title&quot;</span> <span class="na">css:content=</span><span class="s">&quot;head base&quot;</span> <span class="nt">/&gt;</span>
    <span class="c">&lt;!-- Title --&gt;</span>
    <span class="nt">&lt;replace</span> <span class="na">css:theme=</span><span class="s">&quot;head title&quot;</span> <span class="na">css:content=</span><span class="s">&quot;head title&quot;</span> <span class="nt">/&gt;</span>
    <span class="c">&lt;!-- Pull in Plone Meta --&gt;</span>
    <span class="nt">&lt;after</span> <span class="na">css:theme-children=</span><span class="s">&quot;head&quot;</span> <span class="na">css:content=</span><span class="s">&quot;head meta&quot;</span> <span class="nt">/&gt;</span>
    <span class="c">&lt;!-- dont use Plone icons, use the theme&#39;s --&gt;</span>
    <span class="nt">&lt;drop</span> <span class="na">css:content=</span><span class="s">&quot;head link[rel=&#39;apple-touch-icon&#39;], head link[rel=&#39;shortcut icon&#39;]&quot;</span> <span class="nt">/&gt;</span>
    <span class="c">&lt;!-- CSS --&gt;</span>
    <span class="nt">&lt;after</span> <span class="na">css:theme-children=</span><span class="s">&quot;head&quot;</span> <span class="na">css:content=</span><span class="s">&quot;head link&quot;</span> <span class="nt">/&gt;</span>
    <span class="c">&lt;!-- Script --&gt;</span>
    <span class="nt">&lt;after</span> <span class="na">css:theme-children=</span><span class="s">&quot;head&quot;</span> <span class="na">css:content=</span><span class="s">&quot;head script&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/rules&gt;</span>

  <span class="c">&lt;!-- Copy over the id/class attributes on the body tag.</span>
<span class="c">       This is important for per-section styling --&gt;</span>
  <span class="nt">&lt;copy</span> <span class="na">attributes=</span><span class="s">&quot;*&quot;</span> <span class="na">css:content=</span><span class="s">&quot;body&quot;</span> <span class="na">css:theme=</span><span class="s">&quot;body&quot;</span> <span class="nt">/&gt;</span>

  <span class="c">&lt;!-- toolbar --&gt;</span>
  <span class="nt">&lt;before</span>
    <span class="na">css:theme-children=</span><span class="s">&quot;body&quot;</span>
    <span class="na">css:content-children=</span><span class="s">&quot;#edit-bar&quot;</span>
    <span class="na">css:if-not-content=</span><span class="s">&quot;.ajax_load&quot;</span>
    <span class="na">css:if-content=</span><span class="s">&quot;.userrole-authenticated&quot;</span>
    <span class="nt">/&gt;</span>

  <span class="c">&lt;!-- login link --&gt;</span>
  <span class="nt">&lt;after</span>
    <span class="na">css:theme-children=</span><span class="s">&quot;body&quot;</span>
    <span class="na">css:content=</span><span class="s">&quot;#portal-anontools&quot;</span>
    <span class="na">css:if-not-content=</span><span class="s">&quot;.ajax_load&quot;</span>
    <span class="na">css:if-content=</span><span class="s">&quot;.userrole-anonymous&quot;</span>
    <span class="nt">/&gt;</span>

  <span class="c">&lt;!-- replace theme navbar-nav with Plone plone-navbar-nav --&gt;</span>
  <span class="nt">&lt;replace</span>
    <span class="na">css:theme-children=</span><span class="s">&quot;.plone-navbar-nav&quot;</span>
    <span class="na">css:content-children=</span><span class="s">&quot;.plone-navbar-nav&quot;</span> <span class="nt">/&gt;</span>

  <span class="c">&lt;!-- full-width breadcrumb --&gt;</span>
  <span class="nt">&lt;replace</span>
    <span class="na">css:theme-children=</span><span class="s">&quot;#above-content&quot;</span>
    <span class="na">css:content-children=</span><span class="s">&quot;#viewlet-above-content&quot;</span>
    <span class="nt">/&gt;</span>
   <span class="nt">&lt;drop</span> <span class="na">css:content=</span><span class="s">&quot;#portal-breadcrumbs&quot;</span> <span class="nt">/&gt;</span>

  <span class="c">&lt;!-- Alert message --&gt;</span>
  <span class="nt">&lt;replace</span>
    <span class="na">css:theme-children=</span><span class="s">&quot;#global_statusmessage&quot;</span>
    <span class="na">css:content-children=</span><span class="s">&quot;#global_statusmessage&quot;</span>
    <span class="nt">/&gt;</span>

  <span class="c">&lt;!-- Central column --&gt;</span>
  <span class="nt">&lt;replace</span> <span class="na">css:theme=</span><span class="s">&quot;#content-container&quot;</span> <span class="na">method=</span><span class="s">&quot;raw&quot;</span><span class="nt">&gt;</span>

      <span class="nt">&lt;xsl:variable</span> <span class="na">name=</span><span class="s">&quot;central&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;xsl:if</span> <span class="na">test=</span><span class="s">&quot;//aside[@id=&#39;portal-column-one&#39;] and //aside[@id=&#39;portal-column-two&#39;]&quot;</span><span class="nt">&gt;</span>col-xs-12 col-sm-6<span class="nt">&lt;/xsl:if&gt;</span>
        <span class="nt">&lt;xsl:if</span> <span class="na">test=</span><span class="s">&quot;//aside[@id=&#39;portal-column-two&#39;] and not(//aside[@id=&#39;portal-column-one&#39;])&quot;</span><span class="nt">&gt;</span>col-xs-12 col-sm-9<span class="nt">&lt;/xsl:if&gt;</span>
        <span class="nt">&lt;xsl:if</span> <span class="na">test=</span><span class="s">&quot;//aside[@id=&#39;portal-column-one&#39;] and not(//aside[@id=&#39;portal-column-two&#39;])&quot;</span><span class="nt">&gt;</span>col-xs-12 col-sm-9<span class="nt">&lt;/xsl:if&gt;</span>
        <span class="nt">&lt;xsl:if</span> <span class="na">test=</span><span class="s">&quot;not(//aside[@id=&#39;portal-column-one&#39;]) and not(//aside[@id=&#39;portal-column-two&#39;])&quot;</span><span class="nt">&gt;</span>col-xs-12 col-sm-12<span class="nt">&lt;/xsl:if&gt;</span>
      <span class="nt">&lt;/xsl:variable&gt;</span>

      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;{$central}&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;box&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-12 col-sm-12&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;xsl:apply-templates</span> <span class="na">css:select=</span><span class="s">&quot;#content&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;clearFix&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">&quot;viewlet-below-content-body&quot;</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;box&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-12 col-sm-12&quot;</span><span class="nt">&gt;</span>
             <span class="nt">&lt;xsl:copy-of</span> <span class="na">css:select=</span><span class="s">&quot;#viewlet-below-content&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;clearFix&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
      <span class="nt">&lt;/div&gt;</span><span class="c">&lt;!--/row--&gt;</span>
  <span class="nt">&lt;/replace&gt;</span>

  <span class="c">&lt;!-- Left column --&gt;</span>
  <span class="nt">&lt;rules</span> <span class="na">css:if-content=</span><span class="s">&quot;#portal-column-one&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;replace</span> <span class="na">css:theme=</span><span class="s">&quot;#column1-container&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-6 col-sm-3 sidebar-offcanvas&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;aside</span> <span class="na">id=</span><span class="s">&quot;portal-column-one&quot;</span><span class="nt">&gt;</span>
             <span class="nt">&lt;xsl:copy-of</span> <span class="na">css:select=</span><span class="s">&quot;#portal-column-one &gt; *&quot;</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/aside&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/replace&gt;</span>
  <span class="nt">&lt;/rules&gt;</span>

  <span class="c">&lt;!-- Right column --&gt;</span>
  <span class="nt">&lt;rules</span> <span class="na">css:if-content=</span><span class="s">&quot;#portal-column-two&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;replace</span> <span class="na">css:theme=</span><span class="s">&quot;#column2-container&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-6 col-sm-3 sidebar-offcanvas&quot;</span> <span class="na">role=</span><span class="s">&quot;complementary&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;aside</span> <span class="na">id=</span><span class="s">&quot;portal-column-two&quot;</span><span class="nt">&gt;</span>
             <span class="nt">&lt;xsl:copy-of</span> <span class="na">css:select=</span><span class="s">&quot;#portal-column-two &gt; *&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/aside&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/replace&gt;</span>
  <span class="nt">&lt;/rules&gt;</span>

  <span class="nt">&lt;replace</span> <span class="na">css:theme-children=</span><span class="s">&quot;#portal-footer&quot;</span> <span class="na">css:content-children=</span><span class="s">&quot;#portal-footer-wrapper&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/rules&gt;</span>
</pre></div>
</div>
<div class="section" id="login-link-co">
<h5>Login link &amp; co<a class="headerlink" href="#login-link-co" title="Permalink to this headline">¶</a></h5>
<p>Add the login link:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- login link --&gt;</span>
<span class="nt">&lt;after</span>
  <span class="na">css:theme-children=</span><span class="s">&quot;body&quot;</span>
  <span class="na">css:content=</span><span class="s">&quot;#portal-anontools&quot;</span>
  <span class="na">css:if-not-content=</span><span class="s">&quot;.ajax_load&quot;</span>
  <span class="na">css:if-content=</span><span class="s">&quot;.userrole-anonymous&quot;</span>
  <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>This will place the <code class="docutils literal"><span class="pre">portal-anontools</span></code> (for example the login link) on the
bottom of the page. You can change that to place it where you want.</p>
</div>
<div class="section" id="top-navigation">
<h5>Top-navigation<a class="headerlink" href="#top-navigation" title="Permalink to this headline">¶</a></h5>
<p>Replace the placeholder with the real Plone top-navigation links:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- replace theme navbar-nav with Plone plone-navbar-nav --&gt;</span>
<span class="nt">&lt;replace</span>
  <span class="na">css:theme-children=</span><span class="s">&quot;.navbar-nav&quot;</span>
  <span class="na">css:content-children=</span><span class="s">&quot;.plone-navbar-nav&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Here we take the list of links from Plone and replace the placeholder links in
the theme with it.</p>
</div>
<div class="section" id="breadcrumb-co">
<h5>Breadcrumb &amp; co<a class="headerlink" href="#breadcrumb-co" title="Permalink to this headline">¶</a></h5>
<p>Plone provides some viewlets like the breadcrumbs (the current path) above the content area.
To get this into the theme layout, we add a placeholder with the CSS id <code class="docutils literal"><span class="pre">#above-content</span></code> to the theme.
This is the place where we want to insert Plones &#8220;above-content&#8221; stuff.
For example at the top of the <code class="docutils literal"><span class="pre">div.container</span></code> after:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="c">&lt;!-- Navigation --&gt;</span>
<span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">&quot;navbar navbar-default&quot;</span> <span class="na">role=</span><span class="s">&quot;navigation&quot;</span><span class="nt">&gt;</span>
    ...
<span class="nt">&lt;/nav&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- insert here --&gt;</span>
</pre></div>
</div>
<p>goes this before the row/box.</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;above-content&quot;</span> <span class="na">class=</span><span class="s">&quot;box&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>This rule then inserts the Plone breadcrumbs etc.:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- full-width breadcrumb --&gt;</span>
<span class="nt">&lt;replace</span>
  <span class="na">css:theme-children=</span><span class="s">&quot;#above-content&quot;</span>
  <span class="na">css:content-children=</span><span class="s">&quot;#viewlet-above-content&quot;</span>
  <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>This will bring over everything from the <code class="docutils literal"><span class="pre">viewlet-above-content</span></code> block from
Plone. Our current theme does not provide a breadcrumb bar, so we can just
drop them from Plone content, like this:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;drop</span> <span class="na">css:content=</span><span class="s">&quot;#portal-breadcrumbs&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>If you only want to drop this for non-administrators, you can do it like this:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;drop</span>
 <span class="na">css:content=</span><span class="s">&quot;#portal-breadcrumbs&quot;</span>
 <span class="na">css:if-not-content=</span><span class="s">&quot;.userrole-manager&quot;</span>
 <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Or for anonymous users only:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;drop</span>
 <span class="na">css:content=</span><span class="s">&quot;#portal-breadcrumbs&quot;</span>
 <span class="na">css:if-content=</span><span class="s">&quot;.userrole-anonymous&quot;</span>
 <span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The classes like <em>userrole-anonymous</em> are provided by Plone in the <code class="docutils literal"><span class="pre">body</span></code> tag.</p>
</div>
</div>
<div class="section" id="slider-only-on-front-page">
<h5>Slider only on Front-page<a class="headerlink" href="#slider-only-on-front-page" title="Permalink to this headline">¶</a></h5>
<p>We want the slider in the template only on the front page, and we don&#8217;t want it
when we are editing the front page. To make this easier, we wrap the slider
area with a <code class="docutils literal"><span class="pre">#front-page-slider</span></code> <code class="docutils literal"><span class="pre">div</span></code>-tag like this:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;front-page-slider&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;carousel-example-generic&quot;</span> <span class="na">class=</span><span class="s">&quot;carousel slide&quot;</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- Indicators --&gt;</span>
        <span class="nt">&lt;ol</span> <span class="na">class=</span><span class="s">&quot;carousel-indicators hidden-xs&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">data-target=</span><span class="s">&quot;#carousel-example-generic&quot;</span> <span class="na">data-slide-to=</span><span class="s">&quot;0&quot;</span> <span class="na">class=</span><span class="s">&quot;active&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">data-target=</span><span class="s">&quot;#carousel-example-generic&quot;</span> <span class="na">data-slide-to=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">data-target=</span><span class="s">&quot;#carousel-example-generic&quot;</span> <span class="na">data-slide-to=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;/ol&gt;</span>

        <span class="c">&lt;!-- Wrapper for slides --&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;carousel-inner&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;item active&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">&quot;img-responsive img-full&quot;</span> <span class="na">src=</span><span class="s">&quot;img/slide-1.jpg&quot;</span> <span class="na">alt=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;item&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">&quot;img-responsive img-full&quot;</span> <span class="na">src=</span><span class="s">&quot;img/slide-2.jpg&quot;</span> <span class="na">alt=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;item&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">&quot;img-responsive img-full&quot;</span> <span class="na">src=</span><span class="s">&quot;img/slide-3.jpg&quot;</span> <span class="na">alt=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="c">&lt;!-- Controls --&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;left carousel-control&quot;</span> <span class="na">href=</span><span class="s">&quot;#carousel-example-generic&quot;</span> <span class="na">data-slide=</span><span class="s">&quot;prev&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;icon-prev&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
        <span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;right carousel-control&quot;</span> <span class="na">href=</span><span class="s">&quot;#carousel-example-generic&quot;</span> <span class="na">data-slide=</span><span class="s">&quot;next&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;icon-next&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
        <span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;h2</span> <span class="na">class=</span><span class="s">&quot;brand-before&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;small&gt;</span>Welcome to<span class="nt">&lt;/small&gt;</span>
    <span class="nt">&lt;/h2&gt;</span>
    <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">&quot;brand-name&quot;</span><span class="nt">&gt;</span>Business Casual<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;hr</span> <span class="na">class=</span><span class="s">&quot;tagline-divider&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h2&gt;</span>
        <span class="nt">&lt;small&gt;</span>By
            <span class="nt">&lt;strong&gt;</span>Start Bootstrap<span class="nt">&lt;/strong&gt;</span>
        <span class="nt">&lt;/small&gt;</span>
    <span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>Now we can drop it if we are not on the front page and also in some other situations:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- front-page slider --&gt;</span>
<span class="nt">&lt;drop</span>
  <span class="na">css:theme=</span><span class="s">&quot;#front-page-slider&quot;</span>
  <span class="na">css:if-not-content=</span><span class="s">&quot;.section-front-page&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;drop</span>
  <span class="na">css:theme=</span><span class="s">&quot;#front-page-slider&quot;</span>
  <span class="na">css:if-content=</span><span class="s">&quot;.template-edit&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;drop</span>
  <span class="na">css:theme=</span><span class="s">&quot;#front-page-slider&quot;</span>
  <span class="na">css:if-content=</span><span class="s">&quot;.template-topbar-manage-portlets&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>At the moment the slider is still static, but we will change that later.</p>
</div>
<div class="section" id="status-messages">
<h5>Status messages<a class="headerlink" href="#status-messages" title="Permalink to this headline">¶</a></h5>
<p>Plone will render status messages in the <code class="docutils literal"><span class="pre">#global_statusmessage</span></code> element.
We want to bring these messages across to the theme.
For this, we add another placeholder into our theme template:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;global_statusmessage&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;above-content&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>and use this rule to bring the messages across:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- Alert message --&gt;</span>
<span class="nt">&lt;replace</span>
  <span class="na">css:theme-children=</span><span class="s">&quot;#global_statusmessage&quot;</span>
  <span class="na">css:content-children=</span><span class="s">&quot;#global_statusmessage&quot;</span>
  <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>To test that, just edit the front page. You should see a confirmation-message from Plone.</p>
</div>
<div class="section" id="main-content-area">
<h5>Main content area<a class="headerlink" href="#main-content-area" title="Permalink to this headline">¶</a></h5>
<p>To get the Plone content area in a flexible way which also provides the right
bootstrap grid classes, we use an inline XSL snippet like this:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- Central column --&gt;</span>
<span class="nt">&lt;replace</span> <span class="na">css:theme=</span><span class="s">&quot;#content-container&quot;</span> <span class="na">method=</span><span class="s">&quot;raw&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;xsl:variable</span> <span class="na">name=</span><span class="s">&quot;central&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;xsl:if</span> <span class="na">test=</span><span class="s">&quot;//aside[@id=&#39;portal-column-one&#39;] and //aside[@id=&#39;portal-column-two&#39;]&quot;</span><span class="nt">&gt;</span>col-xs-12 col-sm-6<span class="nt">&lt;/xsl:if&gt;</span>
      <span class="nt">&lt;xsl:if</span> <span class="na">test=</span><span class="s">&quot;//aside[@id=&#39;portal-column-two&#39;] and not(//aside[@id=&#39;portal-column-one&#39;])&quot;</span><span class="nt">&gt;</span>col-xs-12 col-sm-9<span class="nt">&lt;/xsl:if&gt;</span>
      <span class="nt">&lt;xsl:if</span> <span class="na">test=</span><span class="s">&quot;//aside[@id=&#39;portal-column-one&#39;] and not(//aside[@id=&#39;portal-column-two&#39;])&quot;</span><span class="nt">&gt;</span>col-xs-12 col-sm-9<span class="nt">&lt;/xsl:if&gt;</span>
      <span class="nt">&lt;xsl:if</span> <span class="na">test=</span><span class="s">&quot;not(//aside[@id=&#39;portal-column-one&#39;]) and not(//aside[@id=&#39;portal-column-two&#39;])&quot;</span><span class="nt">&gt;</span>col-xs-12 col-sm-12<span class="nt">&lt;/xsl:if&gt;</span>
    <span class="nt">&lt;/xsl:variable&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;{$central}&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;box&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-12 col-sm-12&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;xsl:apply-templates</span> <span class="na">css:select=</span><span class="s">&quot;#content&quot;</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;clearFix&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">&quot;viewlet-below-content-body&quot;</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;box&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-12 col-sm-12&quot;</span><span class="nt">&gt;</span>
           <span class="nt">&lt;xsl:copy-of</span> <span class="na">css:select=</span><span class="s">&quot;#viewlet-below-content&quot;</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;clearFix&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/section&gt;</span>
    <span class="nt">&lt;/div&gt;</span><span class="c">&lt;!--/row--&gt;</span>
<span class="nt">&lt;/replace&gt;</span>
</pre></div>
</div>
<p>This will add the right grid-classes to the content columns depending on one-column-, two-column- or tree-column-layout.</p>
</div>
<div class="section" id="left-and-right-columns">
<h5>Left and right columns<a class="headerlink" href="#left-and-right-columns" title="Permalink to this headline">¶</a></h5>
<p>We have already added the <code class="docutils literal"><span class="pre">column1-container</span></code> and <code class="docutils literal"><span class="pre">column2-container</span></code> ids  to our template.
The following rules will incorporate the left and the right columns from Plone
into the theme, and also change their markup to be an <code class="docutils literal"><span class="pre">aside</span></code> instead of a
normal <code class="docutils literal"><span class="pre">div</span></code>. That is the reason to use inline XSL here:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- Left column --&gt;</span>
<span class="nt">&lt;rules</span> <span class="na">css:if-content=</span><span class="s">&quot;#portal-column-one&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;replace</span> <span class="na">css:theme=</span><span class="s">&quot;#column1-container&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;left-sidebar&quot;</span> <span class="na">class=</span><span class="s">&quot;col-xs-6 col-sm-3 sidebar-offcanvas&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;aside</span> <span class="na">id=</span><span class="s">&quot;portal-column-one&quot;</span><span class="nt">&gt;</span>
           <span class="nt">&lt;xsl:copy-of</span> <span class="na">css:select=</span><span class="s">&quot;#portal-column-one &gt; *&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/aside&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/replace&gt;</span>
<span class="nt">&lt;/rules&gt;</span>

<span class="c">&lt;!-- Right column --&gt;</span>
<span class="nt">&lt;rules</span> <span class="na">css:if-content=</span><span class="s">&quot;#portal-column-two&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;replace</span> <span class="na">css:theme=</span><span class="s">&quot;#column2-container&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;right-sidebar&quot;</span> <span class="na">class=</span><span class="s">&quot;col-xs-6 col-sm-3 sidebar-offcanvas&quot;</span> <span class="na">role=</span><span class="s">&quot;complementary&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;aside</span> <span class="na">id=</span><span class="s">&quot;portal-column-two&quot;</span><span class="nt">&gt;</span>
           <span class="nt">&lt;xsl:copy-of</span> <span class="na">css:select=</span><span class="s">&quot;#portal-column-two &gt; *&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/aside&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/replace&gt;</span>
<span class="nt">&lt;/rules&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="footer">
<h5>Footer<a class="headerlink" href="#footer" title="Permalink to this headline">¶</a></h5>
<p>Bring across the footer from Plone:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- footer --&gt;</span>
<span class="nt">&lt;replace</span>
  <span class="na">css:theme-children=</span><span class="s">&quot;footer .container&quot;</span>
  <span class="na">css:content-children=</span><span class="s">&quot;#portal-footer-wrapper&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="css-and-js-resources">
<h4>CSS and JS resources<a class="headerlink" href="#css-and-js-resources" title="Permalink to this headline">¶</a></h4>
<p>First let&#8217;s make sure that we have loaded the <code class="docutils literal"><span class="pre">registerless</span></code> profile of
Barceloneta.
To do that, we change our <code class="docutils literal"><span class="pre">metadata.xml</span></code> as follows:</p>
<div class="code xml highlight-python"><div class="highlight"><pre>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;metadata&gt;
  &lt;version&gt;1000&lt;/version&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;profile-plone.app.theming:default&lt;/dependency&gt;
    &lt;dependency&gt;profile-plonetheme.barceloneta:registerless&lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/metadata&gt;
</pre></div>
</div>
<p>This will register all LESS files of the Barceloneta theme in Plone&#8217;s resource
registry, so that we can use them in our custom LESS files.</p>
<p>Now let&#8217;s add the two LESS files <code class="docutils literal"><span class="pre">main.less</span></code> and <code class="docutils literal"><span class="pre">custom.less</span></code> to our CSS
folder:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tree ./css/
./css/
├── bootstrap.css
├── bootstrap.min.css
├── business-casual.css
├── custom.less
└── main.less
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">main.less</span></code> file can look like this:</p>
<div class="highlight-sass"><div class="highlight"><pre><span class="cm">/* bundle less file that will be compiled into tango-compiled.css */</span>

<span class="c1">// ### PLONE IMPORTS ###</span>

<span class="c1">//*// Font families</span>
<span class="c1">//@import &quot;@{barceloneta-fonts}&quot;;</span>

<span class="c1">//*// Core variables and mixins</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-variables}&quot;;</span>
    <span class="k">@import</span> <span class="s">&quot;@{barceloneta-mixin-prefixes}&quot;;</span>
    <span class="k">@import</span> <span class="s">&quot;@{barceloneta-mixin-tabfocus}&quot;;</span>
    <span class="k">@import</span> <span class="s">&quot;@{barceloneta-mixin-images}&quot;;</span>
    <span class="k">@import</span> <span class="s">&quot;@{barceloneta-mixin-forms}&quot;;</span>
    <span class="k">@import</span> <span class="s">&quot;@{barceloneta-mixin-borderradius}&quot;;</span>
    <span class="k">@import</span> <span class="s">&quot;@{barceloneta-mixin-buttons}&quot;;</span>
    <span class="k">@import</span> <span class="s">&quot;@{barceloneta-mixin-clearfix}&quot;;</span>
<span class="c1">//  @import &quot;@{barceloneta-mixin-gridframework}&quot;;</span>
<span class="c1">//  @import &quot;@{barceloneta-mixin-grid}&quot;;</span>


<span class="c1">//*// Reset and dependencies</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-normalize}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-print}&quot;;</span>

<span class="c1">//*// Core CSS</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-scaffolding}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-type}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-code}&quot;;</span>
<span class="c1">//@import &quot;@{barceloneta-deco}&quot;; //uncomment for deco variant</span>
<span class="c1">//@import &quot;@{barceloneta-grid}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-tables}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-forms}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-buttons}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-states}&quot;;</span>

<span class="c1">//*// Components</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-breadcrumbs}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-pagination}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-formtabbing}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-views}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-thumbs}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-alerts}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-portlets}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-controlpanels}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-tags}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-contents}&quot;;</span>

<span class="c1">//*// Patterns</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-accessibility}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-toc}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-dropzone}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-modal}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-pickadate}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-sortable}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-tablesorter}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-tooltip}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-tree}&quot;;</span>

<span class="c1">//*// Structure</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-header}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-sitenav}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-main}&quot;;</span>
<span class="c1">//@import &quot;@{barceloneta-footer}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-loginform}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-sitemap}&quot;;</span>

<span class="c1">//*// Products</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-event}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-image}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-behaviors}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-discussion}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-search}&quot;;</span>

<span class="c1">//*// Products</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-event}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-image}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-behaviors}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-discussion}&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;@{barceloneta-search}&quot;;</span>

<span class="c1">// ### END OF PLONE IMPORTS ###</span>

<span class="c1">// include theme css as less</span>
<span class="k">@import</span> <span class="s">(less)</span> <span class="s">&quot;business-casual.css&quot;;</span>

<span class="c1">// include our custom less</span>
<span class="k">@import</span> <span class="s">&quot;custom.less&quot;;</span>
</pre></div>
</div>
<p>Here we import a number of specific parts from the default Plone 5 Barceloneta theme.
Feel free to comment out stuff that you don&#8217;t need.</p>
<p>At the bottom you can see that we import the <code class="docutils literal"><span class="pre">business-casual.css</span></code> as a LESS
file, as well as our new <code class="docutils literal"><span class="pre">custom.less</span></code> file.
The <code class="docutils literal"><span class="pre">business-casual.css</span></code> comes from the downloaded static theme and is
included to reduce the amount of CSS files.</p>
<p>The <code class="docutils literal"><span class="pre">custom.less</span></code> will contain our custom styles and can look like this:</p>
<div class="highlight-css"><div class="highlight"><pre><span class="nt">h1</span> <span class="p">{</span>
  <span class="k">color</span><span class="o">:</span> <span class="nb">green</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Before we register our bundle, let&#8217;s also add a JavaScript file with the
following content as <code class="docutils literal"><span class="pre">js/bundle.js</span></code>:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="cm">/* This is a bundle that uses RequireJS to pull in dependencies.</span>
<span class="cm">   These dependencies are defined in the registry.xml file */</span>


<span class="cm">/* do not include jquery multiple times */</span>
<span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">define</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">;</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="nx">require</span><span class="p">([</span>
  <span class="s1">&#39;jquery&#39;</span><span class="p">,</span>
<span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">,</span> <span class="nx">dep1</span><span class="p">,</span> <span class="nx">logger</span><span class="p">){</span>
  <span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

  <span class="c1">// initialize only if we are in top frame</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">parent</span> <span class="o">===</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;tango-main&#39;</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>

<span class="p">});</span>
</pre></div>
</div>
<p>We now have to register our resources in a bundle. We could use the new
resource registry directly, but to make this training much simpler and
easier to understand, we&#8217;ll prefer to use the new options in <code class="docutils literal"><span class="pre">manifest.cfg</span></code>.
Those allow us to register our CSS and JS in a pre-built implicit <code class="docutils literal"><span class="pre">diazo</span></code>
bundle that is only delivered when Diazo transformations are enabled (which
is default) in <code class="docutils literal"><span class="pre">&#64;&#64;theming-controlpanel</span></code>.</p>
<p>So we extend our theme&#8217;s <code class="docutils literal"><span class="pre">manifest.cfg</span></code> to declare <code class="docutils literal"><span class="pre">development-css</span></code>,
<code class="docutils literal"><span class="pre">production-css</span></code> and optionally <code class="docutils literal"><span class="pre">tinymce-content-css</span></code>, like this:</p>
<div class="highlight-xml"><div class="highlight"><pre>[theme]
title = plonetheme.tango
description = An example diazo theme
rules = /++theme++plonetheme.tango/rules.xml
prefix = /++theme++plonetheme.tango
doctype = <span class="cp">&lt;!DOCTYPE html&gt;</span>
enabled-bundles =
disabled-bundles =

development-css = /++theme++plonetheme.tango/css/main.less
production-css = /++theme++plonetheme.tango/css/tango-compiled.css
tinymce-content-css = /++theme++plonetheme.tango/css/business-casual.css

[theme:overrides]
directory = template-overrides

[theme:parameters]
ajax_load = python: request.form.get(&#39;ajax_load&#39;)
portal_url = python: portal.absolute_url()
</pre></div>
</div>
<p>The last of these tells Plone to load that particular CSS file wherever a
TinyMCE rich text field is displayed. Good for specific overrides and stylings.</p>
<p>After adding the manifest changes, we need to deactivate/activate the theme
for them to take effect. Just go to <code class="docutils literal"><span class="pre">/&#64;&#64;theming-controlpanel</span></code> and do it.</p>
</div>
<div class="section" id="extend-your-buildout-configuration">
<h4>Extend your buildout configuration<a class="headerlink" href="#extend-your-buildout-configuration" title="Permalink to this headline">¶</a></h4>
<p>Add the following buildout parts, if they don&#8217;t already exist:</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[zopepy]</span>
<span class="na">recipe</span> <span class="o">=</span> <span class="s">zc.recipe.egg</span>
<span class="na">eggs</span> <span class="o">=</span><span class="s"></span>
<span class="s">    ${instance:eggs}</span>
<span class="s">    ${test:eggs}</span>
<span class="na">interpreter</span> <span class="o">=</span> <span class="s">zopepy</span>
<span class="na">scripts</span> <span class="o">=</span><span class="s"></span>
<span class="s">    zopepy</span>
<span class="s">    plone-generate-gruntfile</span>
<span class="s">    plone-compile-resources</span>

<span class="k">[omelette]</span>
<span class="na">recipe</span> <span class="o">=</span> <span class="s">collective.recipe.omelette</span>
<span class="na">eggs</span> <span class="o">=</span> <span class="s">${instance:eggs}</span>
</pre></div>
</div>
<p>And add these parts to the list of parts:</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="na">parts</span><span class="o">=</span><span class="s"></span>
<span class="s">    ...</span>
<span class="s">    zopepy</span>
<span class="s">    omelette</span>
</pre></div>
</div>
<p>Also add <code class="docutils literal"><span class="pre">Products.CMFPlone</span></code> to the eggs list in the <code class="docutils literal"><span class="pre">instance</span></code> part:</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[instance]</span>
<span class="na">recipe</span> <span class="o">=</span> <span class="s">plone.recipe.zope2instance</span>
<span class="na">user</span> <span class="o">=</span> <span class="s">admin:admin</span>
<span class="na">http-address</span> <span class="o">=</span> <span class="s">8080</span>
<span class="na">eggs</span> <span class="o">=</span><span class="s"></span>
<span class="s">    Plone</span>
<span class="s">    Pillow</span>
<span class="s">    Products.CMFPlone</span>
<span class="s">    plonetheme.tango [test]</span>
</pre></div>
</div>
<p>Now rerun buildout:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>./bin/buildout
</pre></div>
</div>
<p>This will generate some new scripts including <code class="docutils literal"><span class="pre">plone-compile-resources</span></code> and
<code class="docutils literal"><span class="pre">plone-generate-gruntfile</span></code> in the <code class="docutils literal"><span class="pre">bin</span></code> folder:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>ls bin/
buildout                            flake8
check-manifest                      fullrelease
code-analysis                       instance
code-analysis-check-manifest        lasttagdiff
code-analysis-clean-lines           lasttaglog
code-analysis-csslint               longtest
code-analysis-debug-statements      pilconvert.py
code-analysis-deprecated-aliases    pildriver.py
code-analysis-find-untranslated     pilfile.py
code-analysis-flake8                pilfont.py
code-analysis-hasattr               pilprint.py
code-analysis-imports               plone-compile-resources
code-analysis-jscs                  plone-generate-gruntfile
code-analysis-jshint                postrelease
code-analysis-pep3101               prerelease
code-analysis-prefer-single-quotes  release
code-analysis-utf8-header           <span class="nb">test</span>
code-analysis-zptlint               zopepy
develop
</pre></div>
</div>
<p>You can use <code class="docutils literal"><span class="pre">./bin/plone-compile-resources</span></code> to build your resource bundle as
detailed below, but you first have to start the instance and add a Plone site
named <code class="docutils literal"><span class="pre">Plone</span></code>, because the compilation process depends on the resource
registries of the live site.</p>
<p>We also need <code class="docutils literal"><span class="pre">grunt</span></code> installed on our system.</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo npm install -g grunt-cli
sudo npm install -g grunt
</pre></div>
</div>
<p>If you get errors like this:</p>
<div class="highlight-bash"><div class="highlight"><pre>ERR! Error: failed to fetch from registry: grunt
</pre></div>
</div>
<p>then use this as a workaround and try again:</p>
<div class="highlight-bash"><div class="highlight"><pre>npm config <span class="nb">set </span>registry http://registry.npmjs.org/
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You have to rebuild the bundle whenever you make changes to your LESS/CSS files.</p>
</div>
<p>To test changes in LESS files you can build/rebuild your bundle TTW in Plone&#8217;s
<code class="docutils literal"><span class="pre">resource</span> <span class="pre">registry</span></code> control panel.
Just go to <code class="docutils literal"><span class="pre">&#64;&#64;resourceregistry-controlpanel</span></code> and press <em>Build</em> for the tango-bundle.</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">show some screenshots here.</p>
</div>
<p>Alternatively, you can use the <code class="docutils literal"><span class="pre">plone-compile-resources</span></code> script to rebuild the bundle.
If you are running a ZEO cluster with multiple clients, you can run this script at any time.
If not, you have to stop your instance first, because the script needs to write to the ZODB.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>./bin/plone-compile-resources --bundle<span class="o">=</span>tango-bundle
</pre></div>
</div>
<p>This will start the Plone instance, read variables from the registry, and
compile your bundle.</p>
<p>If your Plone site is not named <code class="docutils literal"><span class="pre">Plone</span></code>, you can provide the id using the
<code class="docutils literal"><span class="pre">--site-id</span></code> parameter.</p>
<p>After you compiled your bundle with the <code class="docutils literal"><span class="pre">plone-compile-resources</span></code> once,
you can use the generated <code class="docutils literal"><span class="pre">Gruntfile.js</span></code> and recompile your bundle as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>grunt compile-tango-bundle
</pre></div>
</div>
<p>The name of our bundle is <code class="docutils literal"><span class="pre">tango-bundle</span></code>. You can find the name of the
generated <em>Grunt task</em> to compile your bundle at the bottom of the
<code class="docutils literal"><span class="pre">Gruntfile.js</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<blockquote>
<div>This Grunt-only method is much faster than using the
<code class="docutils literal"><span class="pre">plone-compile-resources</span></code> script, but it cannot be used in all
circumstances.</div></blockquote>
<p class="last">Specifically, you can use this direct method until you change something in
the resources and bundle registration.  Then you have to use the
<code class="docutils literal"><span class="pre">plone-compile-resources</span></code> once again, before you can use the pure Grunt
method.</p>
</div>
<div class="section" id="load-less-parts-of-bootstrap">
<h5>Load LESS parts of Bootstrap<a class="headerlink" href="#load-less-parts-of-bootstrap" title="Permalink to this headline">¶</a></h5>
<p>To load for example the carousel we first install the LESS version of Bootstrap
into our theme.
To do that, we use <code class="docutils literal"><span class="pre">bower</span></code>, which you should have globally installed on your
system.
First we initialize our theme package. To do that, we run the following command
inside our theme folder:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>bower init
</pre></div>
</div>
<p>This command will ask you some questions, which are all irrelevant for our purposes.  So we can accept all the default answers, except perhaps marking the package as private, as a precaution.  After this we have a bower config file called
<code class="docutils literal"><span class="pre">bower.json</span></code>.
All the packages that we need for our theme should be mentioned in this
<code class="docutils literal"><span class="pre">bower.json</span></code> file.</p>
<p>Now we install bootstrap, using bower:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>bower install bootstrap --save
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">--save</span></code> option will add the package to <code class="docutils literal"><span class="pre">bower.json</span></code> for us.
Now, we can install all dependencies on any other system by running the
following command from inside of our theme folder:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>bower install
</pre></div>
</div>
<p>Now that we have installed bootstrap using bower, we have all bootstrap
components available in the subfolder called <code class="docutils literal"><span class="pre">bower_components</span></code>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tree bower_components/bootstrap/
bower_components/bootstrap/
├── bower.json
├── dist
│   ├── css
│   │   ├── bootstrap.css
│   │   ├── bootstrap.css.map
│   │   ├── bootstrap.min.css
│   │   ├── bootstrap-theme.css
│   │   ├── bootstrap-theme.css.map
│   │   └── bootstrap-theme.min.css
│   ├── fonts
│   │   ├── glyphicons-halflings-regular.eot
│   │   ├── glyphicons-halflings-regular.svg
│   │   ├── glyphicons-halflings-regular.ttf
│   │   ├── glyphicons-halflings-regular.woff
│   │   └── glyphicons-halflings-regular.woff2
│   └── js
│       ├── bootstrap.js
│       ├── bootstrap.min.js
│       └── npm.js
├── fonts
│   ├── glyphicons-halflings-regular.eot
│   ├── glyphicons-halflings-regular.svg
│   ├── glyphicons-halflings-regular.ttf
│   ├── glyphicons-halflings-regular.woff
│   └── glyphicons-halflings-regular.woff2
├── grunt
│   ├── bs-commonjs-generator.js
│   ├── bs-glyphicons-data-generator.js
│   ├── bs-lessdoc-parser.js
│   ├── bs-raw-files-generator.js
│   ├── configBridge.json
│   └── sauce_browsers.yml
├── Gruntfile.js
├── js
│   ├── affix.js
│   ├── alert.js
│   ├── button.js
│   ├── carousel.js
│   ├── collapse.js
│   ├── dropdown.js
│   ├── modal.js
│   ├── popover.js
│   ├── scrollspy.js
│   ├── tab.js
│   ├── tooltip.js
│   └── transition.js
├── less
│   ├── alerts.less
│   ├── badges.less
│   ├── bootstrap.less
│   ├── breadcrumbs.less
│   ├── button-groups.less
│   ├── buttons.less
│   ├── carousel.less
│   ├── close.less
│   ├── code.less
│   ├── component-animations.less
│   ├── dropdowns.less
│   ├── forms.less
│   ├── glyphicons.less
│   ├── grid.less
│   ├── input-groups.less
│   ├── jumbotron.less
│   ├── labels.less
│   ├── list-group.less
│   ├── media.less
│   ├── mixins
│   │   ├── alerts.less
│   │   ├── background-variant.less
│   │   ├── border-radius.less
│   │   ├── buttons.less
│   │   ├── center-block.less
│   │   ├── clearfix.less
│   │   ├── forms.less
│   │   ├── gradients.less
│   │   ├── grid-framework.less
│   │   ├── grid.less
│   │   ├── hide-text.less
│   │   ├── image.less
│   │   ├── labels.less
│   │   ├── list-group.less
│   │   ├── nav-divider.less
│   │   ├── nav-vertical-align.less
│   │   ├── opacity.less
│   │   ├── pagination.less
│   │   ├── panels.less
│   │   ├── progress-bar.less
│   │   ├── reset-filter.less
│   │   ├── reset-text.less
│   │   ├── resize.less
│   │   ├── responsive-visibility.less
│   │   ├── size.less
│   │   ├── tab-focus.less
│   │   ├── table-row.less
│   │   ├── text-emphasis.less
│   │   ├── text-overflow.less
│   │   └── vendor-prefixes.less
│   ├── mixins.less
│   ├── modals.less
│   ├── navbar.less
│   ├── navs.less
│   ├── normalize.less
│   ├── pager.less
│   ├── pagination.less
│   ├── panels.less
│   ├── popovers.less
│   ├── print.less
│   ├── progress-bars.less
│   ├── responsive-embed.less
│   ├── responsive-utilities.less
│   ├── scaffolding.less
│   ├── tables.less
│   ├── theme.less
│   ├── thumbnails.less
│   ├── tooltip.less
│   ├── type.less
│   ├── utilities.less
│   ├── variables.less
│   └── wells.less
├── LICENSE
├── package.js
├── package.json
└── README.md
</pre></div>
</div>
<p>To include the needed &#8220;carousel&#8221; part and some other bootstrap components which
our downloaded theme uses, we change the end of our <code class="docutils literal"><span class="pre">main.less</span></code> like this:</p>
<div class="highlight-css"><div class="highlight"><pre>// ### UTILS ###

// import bootstrap variables from Plone --&gt;
@import &quot;@{bootstrap-variables}&quot;;

// import needed bootstrap less files from bower_components
@import &quot;../bower_components/bootstrap/less/mixins.less&quot;;
@import &quot;../bower_components/bootstrap/less/utilities.less&quot;;

@import &quot;../bower_components/bootstrap/less/forms.less&quot;;
@import &quot;../bower_components/bootstrap/less/navs.less&quot;;
@import &quot;../bower_components/bootstrap/less/navbar.less&quot;;
@import &quot;../bower_components/bootstrap/less/carousel.less&quot;;

// ### END OF UTILS ###


// include theme css as less
@import (less) &quot;business-casual.css&quot;;

// include our custom less
@import &quot;custom.less&quot;;
</pre></div>
</div>
</div>
</div>
<div class="section" id="final-css-customization">
<h4>Final CSS customization<a class="headerlink" href="#final-css-customization" title="Permalink to this headline">¶</a></h4>
<p>To make our theme look nicer, we add some CSS as follows to our <code class="docutils literal"><span class="pre">custom.less</span></code>
file:</p>
<div class="code css highlight-python"><div class="highlight"><pre>/* Custom LESS file that is included from the main.less file */

.brand-name{
    margin-top: 0.5em;
}

.documentDescription{
    margin-top: 1em;
}

.clearFix{
    clear: both;
}

#left-sidebar {
    padding-left: 0;
}

#right-sidebar {
    padding-right: 0;
}

.portal-column-one .portlet,
.portal-column-two .portlet {
    .box;
}

footer .portletActions{
}

footer {
    .portlet {
        padding: 1em 0;
        margin-bottom: 0;
        border: 0;
        background: transparent;
        .portletContent{
            border: 0;
            background: transparent;
            ul {
                padding-left: 0;
                list-style-type: none;
                .portletItem {
                    display: inline-block;
                    &amp;:not(:last-child){
                        padding-right: 0.5em;
                        margin-right: 0.5em;
                        border-right: 1px solid;
                    }
                    &amp;:hover{
                        background-color: transparent;
                    }
                    a{
                        color: #000;
                        padding: 0;
                        text-decoration: none;
                        &amp;:hover{
                            background-color: transparent;
                        }
                        &amp;::before{
                            content: none;
                        }
                    }
                }
            }
        }
    }
}
</pre></div>
</div>
<div class="section" id="more-diazo-and-plone-app-theming-details">
<h5>More Diazo and plone.app.theming details<a class="headerlink" href="#more-diazo-and-plone-app-theming-details" title="Permalink to this headline">¶</a></h5>
<p>For more details how to build a Diazo based theme, look at <a class="reference external" href="http://docs.diazo.org/en/latest/">http://docs.diazo.org/en/latest/</a> and <a class="reference external" href="http://docs.plone.org/external/plone.app.theming/docs/index.html">http://docs.plone.org/external/plone.app.theming/docs/index.html</a>.</p>
</div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="creating-customizing-templates.html" class="btn btn-neutral float-right" title="5. Creating and customizing Plone templates" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="static-theme.html" class="btn btn-neutral" title="3. Make it reproducible basic: static theme" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The text and illustrations in this website are licensed by the Plone Foundation under a Creative Commons Attribution 4.0 International license..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.2.5a',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .admonition-title").show();
        $(".toggle .admonition-title").click(function() {
            $(this).parent().children().not(".admonition-title").toggle(400);
            $(this).parent().children(".admonition-title").toggleClass("open");
        })
    });
</script>


</body>
</html>