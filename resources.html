

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>30. Resources &mdash; Mastering Plone 1.2.5a documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="about.html"/>
    <link rel="top" title="Mastering Plone 1.2.5a documentation" href="index.html"/>
        <link rel="next" title="31. Using Third-Party Behaviors" href="thirdparty_behaviors.html"/>
        <link rel="prev" title="29. User Generated Content" href="user_generated_content.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Mastering Plone
          

          
          </a>

          
            
            
              <div class="version">
                1.2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">About Mastering Plone</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">2. Installation &amp; Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="plone_training_config/instructions.html">3. Installing Plone for the Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="anatomy.html">4. The Anatomy of Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="case.html">5. The Case Study</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">6. The Features of Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="plone5.html">7. What&#8217;s New in Plone 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuring_customizing.html">8. Configuring and Customizing Plone &#8220;Through The Web&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">9. Extending Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="add-ons.html">10. Extend Plone With Add-On Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="theming/index.html">11. Mastering Plone 5: Theming</a></li>
<li class="toctree-l1"><a class="reference internal" href="javascript/index.html">JavaScript for Plone Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="dexterity.html">12. Dexterity I: &#8220;Through The Web&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildout_1.html">13. Buildout I</a></li>
<li class="toctree-l1"><a class="reference internal" href="eggs1.html">14. Write Your Own Add-Ons to Customize Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="export_code.html">15. Return to Dexterity: Moving contenttypes into Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="views_1.html">16. Views I</a></li>
<li class="toctree-l1"><a class="reference internal" href="zpt.html">17. Page Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="zpt_2.html">18. Customizing Existing Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="views_2.html">19. Views II: A Default View for &#8220;Talk&#8221;</a></li>
<li class="toctree-l1"><a class="reference internal" href="views_3.html">20. Views III: A Talk List</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">21. Testing in Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="behaviors_1.html">22. Behaviors</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewlets_1.html">23. Writing Viewlets</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">24. Programming Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="ide.html">25. IDEs and Editors</a></li>
<li class="toctree-l1"><a class="reference internal" href="dexterity_2.html">26. Dexterity Types II: Growing Up</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_search.html">27. Custom Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">28. Turning Talks into Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_generated_content.html">29. User Generated Content</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">30. Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="thirdparty_behaviors.html">31. Using Third-Party Behaviors</a></li>
<li class="toctree-l1"><a class="reference internal" href="dexterity_3.html">32. Dexterity Types III: Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="relations.html">33. Relations</a></li>
<li class="toctree-l1"><a class="reference internal" href="registry.html">34. Storing Settings in the Registry and create control-panels</a></li>
<li class="toctree-l1"><a class="reference internal" href="eggs2.html">35. Creating Reusable Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="behaviors_2.html">36. More Complex Behaviors</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewlets_2.html">37. A Viewlet for the Votable Behavior</a></li>
<li class="toctree-l1"><a class="reference internal" href="reusable.html">38. Making Our Package Reusable</a></li>
<li class="toctree-l1"><a class="reference internal" href="embed.html">39. Using starzel.votable_behavior in ploneconf.site</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment_code.html">40. Releasing Your Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment_sites.html">41. Buildout II: Getting Ready for Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="frontpage.html">42. Creating a Dynamic Front Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="future_of_plone.html">43. The Future of Plone</a></li>
<li class="toctree-l1"><a class="reference internal" href="optional.html">44. Optional</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CHANGES.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Mastering Plone</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>30. Resources</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="resources">
<span id="resources-label"></span><h1>30. Resources<a class="headerlink" href="#resources" title="Permalink to this headline">Â¶</a></h1>
<div class="sidebar">
<p class="first sidebar-title">Get the code!</p>
<p>Get the code for this chapter (<a class="reference internal" href="sneak.html"><em>More info</em></a>) using this command in the buildout directory:</p>
<div class="last highlight-bash"><div class="highlight"><pre>cp -R src/ploneconf.site_sneak/chapters/12_resources_p5/ src/ploneconf.site
</pre></div>
</div>
</div>
<p>We have not yet talked about CSS and Javascript. At the moment these are considered static resources.</p>
<p>You can declare and access static resources with special urls. The configure.zcml of our package already has a declaration for resources:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;browser:resourceDirectory</span>
  <span class="na">name=</span><span class="s">&quot;ploneconf.site&quot;</span>
  <span class="na">directory=</span><span class="s">&quot;static&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Now all files we put in the <cite>static</cite> folder can be found via the url <a class="reference external" href="http://localhost:8080/Plone/++resource++ploneconf.site/something.js">http://localhost:8080/Plone/++resource++ploneconf.site/something.js</a></p>
<p>Let&#8217;s create a <code class="docutils literal"><span class="pre">ploneconf.css</span></code> in the <cite>static</cite> folder.</p>
<div class="highlight-css"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80</pre></div></td><td class="code"><div class="highlight"><pre><span class="nc">.sponsor</span> <span class="p">{</span>
    <span class="k">float</span><span class="o">:</span> <span class="k">left</span><span class="p">;</span>
    <span class="k">margin</span><span class="o">:</span> <span class="m">0</span> <span class="m">1em</span> <span class="m">1em</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.sponsor</span><span class="nd">:hover</span> <span class="p">{</span>
    <span class="n">box</span><span class="o">-</span><span class="n">shadow</span><span class="o">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">8px</span> <span class="m">#000000</span><span class="p">;</span>
    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">shadow</span><span class="o">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">8px</span> <span class="m">#000000</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">box</span><span class="o">-</span><span class="n">shadow</span><span class="o">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">8px</span> <span class="m">#000000</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Styles for ploneconf */</span>
<span class="nt">header</span> <span class="nf">#portal-header</span> <span class="nf">#portal-searchbox</span> <span class="nc">.searchSection</span> <span class="p">{</span>
    <span class="k">display</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#content</span> <span class="nc">.event.summary</span> <span class="p">{</span>
    <span class="n">box</span><span class="o">-</span><span class="n">shadow</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
    <span class="k">float</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
    <span class="k">max-width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.talkinfo</span> <span class="nf">#portal-column-content</span> <span class="p">{</span>
    <span class="n">box</span><span class="o">-</span><span class="n">shadow</span><span class="o">:</span> <span class="m">0</span> <span class="m">1px</span> <span class="m">3px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">.</span><span class="m">17</span><span class="p">);</span>
    <span class="k">padding</span><span class="o">:</span> <span class="m">1em</span><span class="p">;</span>
    <span class="k">background-color</span><span class="o">:</span> <span class="m">#fff</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.talkinfo</span> <span class="nt">h1</span> <span class="p">{</span>
    <span class="k">font-size</span><span class="o">:</span> <span class="m">20px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.talkinfo</span> <span class="nc">.event.summary</span> <span class="p">{</span>
    <span class="k">background-color</span><span class="o">:</span> <span class="m">#fff</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Some css fixs to the default Plone 5-Theme */</span>
<span class="nc">.formHelp</span> <span class="p">{</span>
    <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.field</span> <span class="nt">span</span><span class="nc">.option</span> <span class="p">{</span>
    <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.field</span> <span class="nt">span</span><span class="nc">.option</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span><span class="o">]</span><span class="nc">.required</span><span class="o">,</span>
<span class="nc">.field</span> <span class="nt">span</span><span class="nc">.option</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s2">&quot;radio&quot;</span><span class="o">]</span><span class="nc">.required</span> <span class="p">{</span>
    <span class="k">margin-right</span><span class="o">:</span> <span class="m">0.4em</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.field</span> <span class="nt">span</span><span class="nc">.option</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span><span class="o">]</span><span class="nc">.required</span><span class="nd">:after</span><span class="o">,</span>
<span class="nc">.field</span> <span class="nt">span</span><span class="nc">.option</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s2">&quot;radio&quot;</span><span class="o">]</span><span class="nc">.required</span><span class="nd">:after</span> <span class="p">{</span>
    <span class="k">color</span><span class="o">:</span> <span class="k">transparent</span><span class="p">;</span>
    <span class="k">content</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">textarea</span> <span class="p">{</span>
    <span class="k">height</span><span class="o">:</span> <span class="m">100px</span> <span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.select2-container-multi</span> <span class="nc">.select2-choices</span> <span class="nc">.select2-search-field</span> <span class="nt">input</span> <span class="p">{</span>
    <span class="k">min-width</span><span class="o">:</span> <span class="m">200px</span> <span class="cp">!important</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.pat-textareamimetypeselector</span> <span class="p">{</span>
    <span class="k">display</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Small fixes for toolbar */</span>
<span class="nf">#edit-zone</span> <span class="nt">a</span> <span class="p">{</span>
    <span class="k">outline</span><span class="o">:</span> <span class="m">0</span>
<span class="p">}</span>

<span class="nf">#edit-zone</span><span class="nc">.plone-toolbar-top.expanded</span>  <span class="nt">nav</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="p">{</span>
    <span class="k">border-right</span><span class="o">:</span> <span class="m">1px</span> <span class="k">dotted</span> <span class="m">#888</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#edit-zone</span><span class="nc">.plone-toolbar-top.expanded</span>  <span class="nt">nav</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="nt">a</span> <span class="o">&gt;</span> <span class="nt">span</span> <span class="o">+</span> <span class="nt">span</span> <span class="p">{</span>
    <span class="k">padding</span><span class="o">:</span> <span class="m">0</span> <span class="m">8px</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>If we access <a class="reference external" href="http://localhost:8080/Plone/++resource++ploneconf.site/ploneconf.css">http://localhost:8080/Plone/++resource++ploneconf.site/ploneconf.css</a> we see our css-file.</p>
<p>Also add a <code class="docutils literal"><span class="pre">ploneconf.js</span></code> in the same folder but leave it empty.</p>
<p>How do our javascript and css files get used when visiting the page? Adding them directly into the html is not a good solution, having many css and js files slows down the page loading.</p>
<p>With <code class="docutils literal"><span class="pre">portal_css</span></code> and <code class="docutils literal"><span class="pre">portal_javascript</span></code> Plone has resource managers that are able to merge and compress js and css files. Resources can be added conditionally and Plone automatically stops merging files when you are debugging Plone in the foreground.</p>
<p>We need to register our resources with GenericSetup.</p>
<p>Add a new file <code class="docutils literal"><span class="pre">profiles/default/cssregistry.xml</span></code></p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;object</span> <span class="na">name=</span><span class="s">&quot;portal_css&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;stylesheet</span>
      <span class="na">title=</span><span class="s">&quot;&quot;</span>
      <span class="na">applyPrefix=</span><span class="s">&quot;False&quot;</span>
      <span class="na">authenticated=</span><span class="s">&quot;False&quot;</span>
      <span class="na">bundle=</span><span class="s">&quot;&quot;</span>
      <span class="na">cacheable=</span><span class="s">&quot;True&quot;</span>
      <span class="na">compression=</span><span class="s">&quot;safe&quot;</span>
      <span class="na">conditionalcomment=</span><span class="s">&quot;&quot;</span>
      <span class="na">cookable=</span><span class="s">&quot;True&quot;</span>
      <span class="na">enabled=</span><span class="s">&quot;True&quot;</span>
      <span class="na">expression=</span><span class="s">&quot;&quot;</span>
      <span class="na">id=</span><span class="s">&quot;++resource++ploneconf.site/ploneconf.css&quot;</span>
      <span class="na">media=</span><span class="s">&quot;&quot;</span>
      <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span>
      <span class="na">rendering=</span><span class="s">&quot;import&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/object&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Add a new file <code class="docutils literal"><span class="pre">profiles/default/jsregistry.xml</span></code></p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;object</span> <span class="na">name=</span><span class="s">&quot;portal_javascripts&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;javascript</span>
    <span class="na">authenticated=</span><span class="s">&quot;False&quot;</span>
    <span class="na">bundle=</span><span class="s">&quot;&quot;</span>
    <span class="na">cacheable=</span><span class="s">&quot;True&quot;</span>
    <span class="na">compression=</span><span class="s">&quot;safe&quot;</span>
    <span class="na">conditionalcomment=</span><span class="s">&quot;&quot;</span>
    <span class="na">cookable=</span><span class="s">&quot;True&quot;</span>
    <span class="na">enabled=</span><span class="s">&quot;on&quot;</span>
    <span class="na">expression=</span><span class="s">&quot;&quot;</span>
    <span class="na">id=</span><span class="s">&quot;++resource++ploneconf.site/ploneconf.js&quot;</span>
    <span class="na">inline=</span><span class="s">&quot;False&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/object&gt;</span>
</pre></div>
</td></tr></table></div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="thirdparty_behaviors.html" class="btn btn-neutral float-right" title="31. Using Third-Party Behaviors" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="user_generated_content.html" class="btn btn-neutral" title="29. User Generated Content" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The text and illustrations in this website are licensed by the Plone Foundation under a Creative Commons Attribution 4.0 International license..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.2.5a',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .admonition-title").show();
        $(".toggle .admonition-title").click(function() {
            $(this).parent().children().not(".admonition-title").toggle(400);
            $(this).parent().children(".admonition-title").toggleClass("open");
        })
    });
</script>


</body>
</html>